<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Hajra âœ¨</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,500;1,600;1,700&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
html,body{width:100%;height:100%;overflow:hidden;font-family:'Poppins',sans-serif;color:#fff;}
body{
  background: linear-gradient(to bottom, #0b0033, #240046, #6a0572);
  background-size: 200% 200%;
  animation:bgMove 22s ease infinite;
}
@keyframes bgMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%;}}

/* stars */
.star{position:absolute;width:2px;height:2px;background:white;border-radius:50%;opacity:.7;animation:twinkle 2s infinite alternate;}
@keyframes twinkle{from{opacity:.3}to{opacity:1}}

/* intro overlay */
#intro{
  position:fixed;inset:0;background:rgba(0,0,0,.7);backdrop-filter:blur(16px);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;font-size:1.5rem;z-index:10;cursor:pointer;transition:opacity 1s;
}
#intro.fade-out{opacity:0;pointer-events:none;}
#intro span{margin-top:14px;font-size:.9rem;font-style:italic;opacity:.85;}

/* card */
.container{width:100%;height:100%;display:flex;align-items:center;justify-content:center;padding:20px;opacity:0;transform:translateY(50px);transition:all 1s ease;}
.container.visible{opacity:1;transform:translateY(0);}
.card{max-width:540px;padding:55px 42px;border-radius:30px;background:rgba(255,255,255,.14);backdrop-filter:blur(22px);box-shadow:0 45px 100px rgba(0,0,0,.5);text-align:center;}

/* text */
h1{font-family:'Playfair Display',serif;font-size:2.9rem;text-shadow:0 0 30px rgba(255,255,255,.4);}
h2{margin-top:10px;font-weight:300;cursor:pointer;}
.glow{animation:nameGlow 3s ease infinite alternate;}
@keyframes nameGlow{from{text-shadow:0 0 10px #fff}to{text-shadow:0 0 40px #ff9ecb;}}
#countdown{margin:14px 0 26px;font-size:.9rem;font-style:italic;opacity:.85;}
#message{font-family:'Playfair Display',serif;font-style:italic;font-size:1.08rem;line-height:1.95;min-height:340px;}
#hidden-secret{display:none;}
.signature{margin-top:30px;font-size:.9rem;font-style:italic;opacity:.85;}

/* floating hearts & flowers */
.heart{position:absolute;bottom:-20px;font-size:18px;animation:floatUp linear forwards;}
@keyframes floatUp{to{transform:translateY(-120vh);opacity:0}}

/* tap hearts */
.touch-heart{position:fixed;font-size:14px;color:white;pointer-events:none;animation:touchPop 1.6s ease forwards;}
@keyframes touchPop{0%{transform:scale(0);opacity:1}30%{transform:scale(1.2)}100%{transform:translateY(-40px) scale(.4);opacity:0}}

/* final particles */
.particle{position:fixed;width:5px;height:5px;border-radius:50%;background:white;pointer-events:none;opacity:.8;animation:particleAnim 2s linear forwards;}
@keyframes particleAnim{0%{transform:translate(0,0) scale(1);opacity:.8}100%{transform:translate(var(--x),var(--y)) scale(0);opacity:0}}

/* sparkle trail */
.sparkle{position:fixed;width:6px;height:6px;border-radius:50%;background:white;pointer-events:none;opacity:.9;animation:sparkleAnim 0.8s linear forwards;}
@keyframes sparkleAnim{0%{transform:scale(0);opacity:1}50%{transform:scale(1.4)}100%{transform:scale(0);opacity:0}}
</style>
</head>

<body>

<script>
for(let i=0;i<140;i++){
  let s=document.createElement("div");
  s.className="star";
  s.style.left=Math.random()*100+"vw";
  s.style.top=Math.random()*100+"vh";
  s.style.animationDuration=2+Math.random()*3+"s";
  document.body.appendChild(s);
}
</script>

<div id="intro">
  Tap softly âœ¨
  <span>â€” from someone who admires you quietly</span>
</div>

<div class="container">
  <div class="card">
    <h1>Happy Birthday</h1>
    <h2 id="name">Hajra Khan ðŸŒ™</h2>
    <div id="countdown"></div>
    <div id="message"></div>
    <div id="hidden-secret"></div>
    <div class="signature">â€” Hassan Bhatti ðŸ’Œ</div>
  </div>
</div>

<audio id="music" preload="auto" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_58f3a0b68b.mp3" type="audio/mpeg">
</audio>

<script>
const intro=document.getElementById("intro");
const container=document.querySelector(".container");
const music=document.getElementById("music");
const msg=document.getElementById("message");
const countdown=document.getElementById("countdown");
const name=document.getElementById("name");

/* intro click => transition */
intro.onclick=()=>{
  intro.classList.add("fade-out");
  container.classList.add("visible");
  music.volume=0; music.play();
  let v=0; let fade=setInterval(()=>{v+=0.02;music.volume=v;if(v>=0.7)clearInterval(fade);},120);
  typeText(poemLines);
};
name.onclick=()=>name.classList.toggle("glow");

/* IST birthday and secret times */
const birthdayIST = new Date(Date.UTC(2026,0,7,18,30,0)); // 8 Jan 00:00 IST
const secretTriggerTime = new Date(Date.UTC(2026,0,7,18,0,0)); // 30 min before IST
let unlocked=false;

function updateCountdown(){
  let now = new Date();
  let diff = birthdayIST - now;
  
  // trigger secret poem 30 min before midnight IST
  if(!unlocked && now >= secretTriggerTime){
    displayLines(secretLines, msg);
    unlocked = true;
    spawnFinalParticles();
  }
  
  if(diff <=0){
    countdown.innerHTML = "âœ¨ Today belongs to you âœ¨";
    return;
  }
  
  let d=Math.floor(diff/86400000);
  let h=Math.floor(diff%86400000/3600000);
  let m=Math.floor(diff%3600000/60000);
  countdown.innerHTML=`${d} days â€¢ ${h} hours â€¢ ${m} minutes`;
}
setInterval(updateCountdown,1000);

/* Poems */
const poemLines = [
  "On the eighth of January,",
  "the heavens themselves pause to bow,",
  "whispering your name in silver hush.",

  "",
  "May joy find you as the sun finds morning,",
  "may peace sit softly beside your heart,",
  "and may every dream you cradle",
  "bloom gently, like flowers in secret gardens.",

  "",
  "Some souls shine like tempestuous stars,",
  "but yoursâ€”quiet, tender, eternalâ€”",
  "turns the ordinary world into poetry. âœ¨ðŸŒ¸"
];

const secretLines = [
  "ðŸ’« FINAL SECRET POEM ðŸ’«",
  "",
  "The night leans closer, breathing your essence,",
  "every star a sonnet, every breeze a sigh.",
  "",
  "If courage were words, Iâ€™d write a thousand lines,",
  "but let this quiet page carry what my voice cannot.",
  "",
  "You are a garden of magic,",
  "and someone smiles quietly, eternally,",
  "because you exist. ðŸŒ·ðŸ’–"
];

const hiddenSecret = [
  "ðŸŒ™ Whispered only to you ðŸŒ™",
  "Every star tonight is a note of your name,",
  "Every breeze carries a gentle promise,",
  "That someone smiles quietly, eternally,",
  "Because you exist, Hajra. ðŸ’–ðŸŒ·"
];

/* display lines with fade & last line tap trigger */
function displayLines(lines, container){
  container.textContent = "";
  let index = 0;
  function showNextLine(){
    if(index >= lines.length) return;
    const lineEl = document.createElement("div");
    lineEl.textContent = lines[index];
    lineEl.style.opacity = 0;
    lineEl.style.transition = "opacity 1.2s";
    container.appendChild(lineEl);
    setTimeout(()=>{lineEl.style.opacity=1;},50);
    
    if(index===lines.length-1){
      lineEl.style.cursor="pointer";
      lineEl.onclick = showHiddenSecret;
    }
    
    index++;
    setTimeout(showNextLine,1200);
  }
  showNextLine();
}

function typeText(lines){ displayLines(lines,msg); }

/* floating hearts + flowers */
setInterval(()=>{
  let h=document.createElement("div");
  h.className="heart";
  const colors=["#fff","#ffb6c1","#dab6ff","#ffc9a3"];
  h.style.color = colors[Math.floor(Math.random()*colors.length)];
  h.innerHTML = Math.random()<0.8?"â¤":"ðŸŒ¸";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=5+Math.random()*5+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),9000);
},450);

/* tap hearts + sparkles */
function spawnTouchHeart(x,y){
  let h=document.createElement("div");
  h.className="touch-heart";
  h.innerHTML="ðŸ¤";
  h.style.left=x+"px"; h.style.top=y+"px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),1600);

  for(let j=0;j<4;j++){
    let p=document.createElement("div");
    p.className="particle";
    p.style.left=x+"px"; p.style.top=y+"px";
    p.style.setProperty('--x',(Math.random()-0.5)*60+'px');
    p.style.setProperty('--y',(Math.random()-0.5)*60+'px');
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),2000);
  }
}
document.addEventListener("touchstart",e=>spawnTouchHeart(e.touches[0].clientX,e.touches[0].clientY));
document.addEventListener("click",e=>spawnTouchHeart(e.clientX,e.clientY));

/* sparkle trail */
function spawnSparkle(x,y){
  let s=document.createElement("div");
  s.className="sparkle";
  s.style.left=x+"px"; s.style.top=y+"px";
  document.body.appendChild(s);
  setTimeout(()=>s.remove(),800);
}
document.addEventListener("mousemove",e=>spawnSparkle(e.clientX,e.clientY));
document.addEventListener("touchmove",e=>spawnSparkle(e.touches[0].clientX,e.touches[0].clientY));

/* final secret particles */
function spawnFinalParticles(){
  for(let k=0;k<200;k++){
    let p=document.createElement("div");
    p.className="particle";
    p.style.left=Math.random()*window.innerWidth+"px";
    p.style.top=Math.random()*window.innerHeight+"px";
    p.style.setProperty('--x',(Math.random()-0.5)*300+'px');
    p.style.setProperty('--y',(Math.random()-0.5)*300+'px');
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),2500);
  }
}

/* show hidden secret poem on last line tap */
function showHiddenSecret(){
  const secretContainer=document.getElementById("hidden-secret");
  secretContainer.style.display="block";
  displayLines(hiddenSecret,secretContainer);
  for(let i=0;i<40;i++){
    let h=document.createElement("div");
    h.className="heart";
    const colors=["#fff","#ffb6c1","#dab6ff","#ffc9a3"];
    h.style.color = colors[Math.floor(Math.random()*colors.length)];
    h.innerHTML = Math.random()<0.8?"â¤":"ðŸŒ¸";
    h.style.left=Math.random()*100+"vw";
    h.style.animationDuration=4+Math.random()*3+"s";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),7000);
  }
}
</script>

</body>
  </html>
